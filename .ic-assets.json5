[
  {
    // Security policy for all assets - follows IC best practices
    "match": "**/*",
    "security_policy": "standard"
  },
  {
    // Enhanced security for JavaScript files
    "match": "*.js",
    "security_policy": "standard",
    "headers": {
      "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; connect-src 'self' http://127.0.0.1:4943 http://localhost:8001 http://localhost:8002 http://localhost:8003 https://identity.ic0.app; img-src 'self' data:; font-src 'self';"
    }
  },
  {
    // Security for HTML files
    "match": "*.html",
    "security_policy": "standard",
    "headers": {
      "X-Frame-Options": "DENY",
      "X-Content-Type-Options": "nosniff",
      "Referrer-Policy": "strict-origin-when-cross-origin"
    }
  },
  {
    // Cache control for assets
    "match": "*.{css,js,png,jpg,jpeg,gif,svg,ico,woff,woff2}",
    "headers": {
      "Cache-Control": "public, max-age=31536000, immutable"
    }
  },
  {
    // No caching for HTML files to ensure updates
    "match": "*.html",
    "headers": {
      "Cache-Control": "no-cache, no-store, must-revalidate"
    }
  }
]